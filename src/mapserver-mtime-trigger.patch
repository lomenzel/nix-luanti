diff --git a/db/sqlite/migrations/sqlite_mapdb_migrate.sql b/db/sqlite/migrations/sqlite_mapdb_migrate.sql
index a1e8748..a7fd2b7 100644
--- a/db/sqlite/migrations/sqlite_mapdb_migrate.sql
+++ b/db/sqlite/migrations/sqlite_mapdb_migrate.sql
@@ -1,12 +1,16 @@
 alter table blocks add mtime integer default 0;
 create index blocks_mtime on blocks(mtime);
+DROP TRIGGER IF EXISTS update_blocks_mtime_insert;
+DROP TRIGGER IF EXISTS update_blocks_mtime_update;
 
 CREATE TRIGGER update_blocks_mtime_insert after insert on blocks for each row
 begin
-update blocks set mtime = strftime('%s', 'now') where pos = new.pos;
+    update blocks set mtime = strftime('%s', 'now')
+    where x = new.x AND y = new.y AND z = new.z;
 end;
 
 CREATE TRIGGER update_blocks_mtime_update after update on blocks for each row
 begin
-update blocks set mtime = strftime('%s', 'now') where pos = old.pos;
+    update blocks set mtime = strftime('%s', 'now')
+    where x = old.x AND y = old.y AND z = old.z;
 end;
