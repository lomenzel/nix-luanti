{
  "author": "rstcxk",
  "content_warnings": [],
  "created_at": "2024-07-31T01:32:17.024294",
  "dev_state": "MAINTENANCE_ONLY",
  "donate_url": null,
  "downloads": 124,
  "forum_url": null,
  "forums": null,
  "game_support": [],
  "issue_tracker": "https://codeberg.org/xXx_GLOCKrzmitz_xXx/filterpp_lib/issues",
  "license": "LGPL-3.0-or-later",
  "long_description": "# filter++ lib\n\nfilter++ lib is a blazingly fast library for filtering strings for swear words. nothing less, nothing more\nin the worst case its 100X faster than other libraries, and sometimes its 10000X faster\n\n> keep it simple stupid\n\nfilter++ lib provides a sane default blacklist \n\nfilter++ lib is just a library\ncheck out filter\\+\\+ proper or [lush](https://content.minetest.net/packages/rstcxk/lush/) to see it implemented in the chat\n\n# Bypass protection\n\nfilter++ lib will filter out messages that try to bypass with look alike letters.\nfor example: assuming \"wonky\" is a swear word, the following combinations will be correctly filtered\n\n- wonky\n- w o n k y\n- woooonky\n- w00nky\n- WONKY\n- ÔΩó„Äá„ÄáNùïúùïê\n\n# API\nthe complete API is in the repository's `API.md` file\n\nhere is a quick rundown\n\n```lua\n-- add word wonky to the blacklist\nfilterpp_lib.add_to_blacklist(\"wonky\")\n\n-- the blacklist needs to be reinitialized\nfilterpp_lib.initialize_blacklist()\n\nlocal is_violating, bad_words = filterpp_lib.filter_text(\"wonky WOOOONKY\")\n-- is_violating - equals true because the word \"wonky\" is blacklisted\n-- bad_words equals to\n-- {\n--   {1, 5}, -- first violating word, start and end position\n--   {7, 14} -- second violating word, starts and end position\n-- }\n\n-- register a callback for when players swear\nfilterpp_lib.register_on_violation(function(name, message, bad_words)\n    -- bad_words has the same format as the return value of filter_text()\n    minetest.send_chat_player(name, string.format(\"you cant swear, you swore %d times\", #bad_words))\nend)\n\n-- you should report a violation when you filter text and find any violations\nif is_violating then\n    filterpp_lib.report_violation(\"singleplayer\", \"wonky WOOOONKY\", bad_words)\nend\n\n```\n\nyou can look at filter++ source code for example of usage\n\n# Command\n\nfilter++ lib adds the `manage_filter` command\n\n```\nmanage_filters add <word> | remove <word> | list | return_to_default\n```\n\nthe `filter++` privilege is needed to run the command\n\nthe `return_to_default` option resets the blacklist to the default blacklist\n\n\n# Comparison with other filtering mods\n\n## sofar's filter mod\n- filter++ lib dosent add unrelated commands for moderation (kicking/muting)\n- filter++ lib dosent add default punishment\n- filter++ lib dosent register any callbacks for `minetest.register_on_chat_messages`\n- filter++ lib provides a default blacklist\nwhich makes it unusable if you want to use it as a filtering library if you want to use that callback too\n- filter++ lib is order of magnitudes faster\n\n## monk filterplus mod\n- filter++ lib dosent add unrelated commands for moderation (kicking/muting)\n- filter++ lib dosent register any callbacks for `minetest.register_on_chat_messages`\nwhich makes it unusable if you want to use it as a filtering library if you want to use that callback too\n- filter++ lib is order of magnitudes faster\n- filter++ lib prevents bypassing with lookalike unicode characters\n- filter++ lib's default blacklist only has english profanities, and is slightly bigger overall\n- filter++ lib provides a complete and documented API\n- filter++ lib will never give you snarky insults\n\n# Benchmarks \n\nall benchmarks user filterplus's default blacklist\n\n|                                              | filter++ lib no UTF-8 | filter++ |   filterplus   |     filter     |\n|:--------------------------------------------:|:---------------------:|:--------:|:--------------:|:--------------:|\n|       check a 170 letter sentence once       |         0,01ms        |  0,005ms |       1ms      |      20ms      |\n|        check word \"wanker\" 10000 times       |         0,06ms        |   0,9ms  |      500ms     |      500ms     |\n| check 100 character long message 10000 times |         0,2ms         |   13ms   | 147889ms (25m) | 96 431ms (16m) |\n\ngraphs are included in the screenshots\n\n## notes\n\nduring the longer benchmarks i was doing things in the background, but i think the overall message remains\n\nthe 170 letter sentence used is:\n\"i just joined this server and i don't know why you knob heads are so mean to me.\ni just tried to relax for a day but you guys are screaming at me all the time, get a life.\"\n\nthe 100 character long message was just \"A\" repeated 100 times\n\nall tests were made in development game to reduce the noise\n\nsince filter and filterplus don't support UTF-8, i also ran benchmarks without it for filter++\nto show how much faster it is when it does comparable things.\nthe UTF-8 version is slightly faster in the first benchmark because the no UTF-8 filter++ uses older and slower version\n\nfilter++ lib can achieve this time by cleverly arranging its data so checking a word takes O(word_length),\nunlike filter and filterplus that do it by having a huge list of lua patterns to check in O(word_length * registered_patterns).\nthe downside is that filter++ lib uses more memory than filter (though not more than filterplus, because i don't load a 6MB whitelist)\n\n# Credits\n- desojevic - [blacklist](https://github.com/dsojevic/profanity-list) that the default blacklist is based on\n- monk - \"encouragement\"\n- Me - i wrote the thing",
  "maintainers": [
    "rstcxk"
  ],
  "media_license": "LGPL-3.0-or-later",
  "name": "filterpp_lib",
  "provides": [
    "filterpp_lib"
  ],
  "release": 26343,
  "repo": "https://codeberg.org/xXx_GLOCKrzmitz_xXx/filterpp_lib.git",
  "score": 1.2,
  "screenshots": [
    "https://content.luanti.org/uploads/f34d445efb.png",
    "https://content.luanti.org/uploads/70cd89cafd.png",
    "https://content.luanti.org/uploads/1d65bcf0f0.png"
  ],
  "short_description": "provides an API for filtering text",
  "state": "APPROVED",
  "tags": [
    "chat",
    "library",
    "multiplayer",
    "server_tools"
  ],
  "thumbnail": "https://content.luanti.org/thumbnails/1/f34d445efb.png",
  "title": "filter++ lib",
  "translation_url": null,
  "type": "mod",
  "url": "https://content.luanti.org/packages/rstcxk/filterpp_lib/releases/26343/download/",
  "video_thumbnail_url": null,
  "video_url": null,
  "website": null,
  "dependencies": {
    "rstcxk/filterpp_lib": []
  },
  "hash": "0m9dxljlghy7hja1ma36jvn9ahmbm9cd99q44g9qwqvkfpap13np"
}
