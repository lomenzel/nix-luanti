{"author":"entuland","content_warnings":[],"created_at":"2024-12-12T13:04:42.974112","dev_state":"BETA","donate_url":null,"downloads":75,"forum_url":"https://forum.luanti.org/viewtopic.php?t=20411","forums":20411,"game_support":[],"issue_tracker":null,"license":"MIT","long_description":"# imaging\nAn image / bumpmap importer mod for Minetest\n\nDeveloped and tested on Minetest 0.4.16 - try in other versions at your own risk :)\n\n**Table of Contents**\n- [Dependencies and Licensing](#dependencies-and-licensing)\n- [Features](#features)\n- [Recipe](#recipe)\n- [Converter](#converter)\n  - [Converter options](#converter-options)\n- [Importer](#importer)\n  - [Importer options](#importer-options)\n  - [Bump mapping](#bump-mapping)\n- [Imaging data format](#imaging-data-format)\n- [Custom palettes](#custom-palettes)\n\n## Dependencies and Licensing\n\nThis mod depends on the [[matrix]](https://github.com/entuland/lua-matrix) mod.\n\nThe code is licensed under the [MIT](https://github.com/entuland/imaging/blob/master/LICENSE) license.\n\nExcept otherwise specified, all media is licensed as [CC BY SA 3.0](http://creativecommons.org/licenses/by-sa/3.0/)\n\n[The Minetest Logo screenshot](https://github.com/entuland/imaging/blob/master/screenshots/minetest-logo.png) is [CC BY SA 3.0 Minetest team](https://github.com/minetest/minetest/blob/master/LICENSE.txt)\n\n[The sardinian girl screenshot](https://github.com/entuland/imaging/blob/master/screenshots/sardinian-girl.png) is [CC BY 2.0 Cristiano Cani](https://www.flickr.com/photos/cristianocani/2457125478/)\n\n## Features\n\nThis mod allows to convert arbitrary images and build them in a Minetest world using up to 256 different colors, with some additional options such as bumpmapping.\n\nThis mod is composed by two parts:\n\n- `the converter` is an HTML page to be run in a browser to convert images into `imaging` codes according to a given palette\n- `the importer` is a block called `imaging:canvas` placed in the world to define the bottom-center of the imported image and its orientation\n\n## Recipe\nThe recipe can be customized altering the file `custom.recipes.lua`, created in the mod's folder on first run and never overwritten.\n\n    W = any wood planks\n    B = mese block\n\n    WWW\n    W W\n    WBW\n\n![Crafting](https://github.com/entuland/imaging/raw/master/screenshots/canvas-recipe.png)\n\n## Converter\n\nTo launch the converter open the `/converter.html` file contained in the mod folder with your browser, you should see something like this:\n\n![Converter](https://github.com/entuland/imaging/raw/master/screenshots/converter.png)\n\nThere you can load an image by clicking on the file selector marked in yellow in the *Image Input* box (you can also drag files on that file selector), then alter the conversion params and hit the `Generate imaging data` button, obtaining something like this:\n\n![Converter Output](https://github.com/entuland/imaging/raw/master/screenshots/converter-output.png)\n\nClicking in the yellow *Output* textarea all the text will be selected: copy it into the clipboard and keep it handy to be imported in the game.\n\n### Converter options\n\n- The three `Palette` buttons load one of the three default palettes; you can use any custom palette as long as it has exactly 256 pixels; in order to use such a palette you'll also need to add it to the mod `/textures` folder and restart the world\n- The `Dithering` checkbox adds [Floyd-Steinberg dithering](https://en.wikipedia.org/wiki/Floyd%E2%80%93Steinberg_dithering) to the resulting image.\n- The `Minimum opacity` number determines what pixels will be considered and which ones will be ignored (the default `255` value will ignore any pixel that is not fully opaque, lower this value to use partially-transparent pixels)\n\n## Importer\n\nThis is how the `imaging:canvas` importer looks like:\n\n![Imaging Canvas](https://github.com/entuland/imaging/raw/master/screenshots/imaging-canvas.png)\n\nYou can freely rotate it to decide in what direction the image will be imported.\n\nOnce you right click it you'll see the default import interface:\n\n![Default Interface](https://github.com/entuland/imaging/raw/master/screenshots/default-interface.png)\n\nThere you need to paste the `imaging data` you copied from the `converter` and click on `Build`, obtaining something like this:\n\n![Minetest Logo](https://github.com/entuland/imaging/raw/master/screenshots/minetest-logo.png)\n\nYou can import pretty large images as well, this is the result of converting a portion of this image using the `sepia` palette:\nhttps://www.flickr.com/photos/cristianocani/2457125478/\n\n![Sardinian girl](https://github.com/entuland/imaging/raw/master/screenshots/sardinian-girl.png)\n\n### Importer options\n\n- The `imaging data` only contains the info about the palette index for each pixel, for that reason it is necessary to choose the appropriate palette in the dropdown of the importer as well (or not, you can also use a different palette which may result in some weird \"fake colors\" effect).\n- `Build as`: if you select this option the image will be built using the chosen nodes - you can also build as `air` to get rid of an image you previously built.\n- `Bump value`: if you set any positive value in this field, the palette index will be used to \"bump\" the nodes out of the image; for example, if you set the bump value to `10` then pixels with index `255` will be 10 nodes away from their original position in the plane of the image, indices around `127` will be about 5 nodes away and so forth.\n\n(note: in a palette such as the `grayscale` one, black is at index `0` and white is at index `255`, with gradients of gray getting brighter as the index increases)\n\n### Bump mapping\n\nFor example, you can draw an elevation map with an airbrush and convert it like this:\n![Converter bump](https://github.com/entuland/imaging/raw/master/screenshots/converter-bump.png)\n\nThen you can import it with these params:\n![Bump build](https://github.com/entuland/imaging/raw/master/screenshots/bump-build.png)\n\nAnd finally obtain something like this:\n![Bump result](https://github.com/entuland/imaging/raw/master/screenshots/bump-result.png)\n\n## Imaging Data Format\n\nThe `imaging data` is a run-length textual format defining the image in top-down, left-right order with these specifics:\n\n- the data is a space separated series of `chunks`\n- the first chunk is the width of the image\n- the second chunk is the height of the image\n- any subsequent chunk follows this format `index:count` where\n  - `index` can be missing (those nodes will be completely ignored), for example `:200` means \"skip 200 nodes\"\n  - `count` can be missing (meaning that the count will be `1`), for instance `0:` using the grayscale palette means \"one black node\" and `255:3` means \"three white nodes\"\n\nAll the above means that you can use the `imaging:canvas` to get rid of any image even without having the original code - it's enough that you guess the sizes and build them as `air` - for instance to remove a 32 x 48 image you would paste a code like this `32 48 0:1536` cause `32 * 48 == 1536`; notice that you _need_ to specify it as `0:1536`, cause `:1536` alone means \"skip 1536 nodes\" and those nodes will not be altered in the world regardless if you chose to build as `air` or `default:dirt` or anything else.\n\n## Custom palettes\n\nCustom palettes are PNG images with exactly 256 pixels (say, 16x16 or 32x8) that must be placed into the `/textures` folder and named exactly as `palette-customname.png` (where \"customname\" can be anything you want).\n\nUpon world restart the mod will find that custom palette and will add it to the palettes' dropdown in the `imaging:canvas` interface.\n\nThose custom palettes will *not* be picked up automatically by the HTML `converter`, though: you'll need to drag/open such palettes manually in the browser's interface.\n","maintainers":["entuland"],"media_license":"CC-BY-SA-3.0","name":"imaging","provides":["imaging"],"release":28906,"repo":"https://github.com/entuland/imaging","score":309.3,"screenshots":["https://content.luanti.org/uploads/aab95113b0.png"],"short_description":"An image / bumpmap importer mod","state":"APPROVED","tags":["building_mechanics","decorative","developer_tools","education"],"thumbnail":"https://content.luanti.org/thumbnails/1/aab95113b0.png","title":"Imaging","translation_url":null,"type":"mod","url":"https://content.luanti.org/packages/entuland/imaging/releases/28906/download/","video_thumbnail_url":null,"video_url":null,"website":null,"dependencies":{"entuland/imaging":[{"is_optional":false,"name":"matrix","packages":["entuland/matrix","Lone_Wolf/voxel_knights"]}],"entuland/matrix":[]},"hash":"12r7rxdazf2p7ynaxs8dzblbkqkwgl7b60d68dm14lvbixvl0w9p"}