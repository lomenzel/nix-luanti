{
  "author": "FaceDeer",
  "content_warnings": [],
  "created_at": "2018-06-09T23:41:51.132464",
  "dev_state": null,
  "donate_url": null,
  "downloads": 2704,
  "forum_url": "https://forum.luanti.org/viewtopic.php?t=20185",
  "forums": 20185,
  "game_support": [],
  "issue_tracker": "https://github.com/FaceDeer/radiant_damage/issues",
  "license": "MIT",
  "long_description": "This mod allows registered nodes to damage a player if the player is simply near them, rather than having to be immersed in them directly. For example, in real life simply being close to lava would burn you. Or perhaps being near a highly radioactive material would be damaging.\n\nThis mod comes with a set of predefined radiant damage types, all of which can be enabled and disabled independently, and allows other mods to make use of its system to register their own.\n\n## Configurable Presets\n\n**Important note:** none of these predefined radiant damage types are enabled by default. This is because one of this mod's intended uses is as a library for other mods to use to enable their own radiant damage types. There is no way to de-register a globalstep callback (the mechanism used by this mod to deliver damage) once it has been registered, so to keep the mod maximally flexible nothing is registered by default.\n\nSet one or more of the following types to enabled if you want this mod to have an effect out-of-the-box.\n\nThe following settings exist for predefined radiant damage types:\n\n    radiant_damage_enable_heat_damage (Enable radiant heat damage) bool false\n    radiant_damage_lava_damage (Damage dealt per second when standing directly adjacent to one lava node) int 10\n    radiant_damage_fire_damage (Damage dealt per second when standing directly adjacent to one fire node) int 2\n    \n    radiant_damage_enable_mese_damage (Enable mese ore radiation damage) bool false\n    radiant_damage_mese_interval (Number of seconds between mese radiation damage checks) int 5\n    radiant_damage_mese_damage (Damage dealt per second when standing directly adjacent to one mese ore node) int 2\n\nMese radiation is attenuated by a factor of 0.9 when passing through most materials, by 0.5 when passing through anything with group:stone, by 0.1 when passing through anything with group:mese_radiation_shield (all default metal blocks are given this group), and is _amplified_ by a factor of 4 when passing through nodes with group:mese_radiation_amplifier (default coal and diamond blocks). Note that these fine-grained attenuation factors only work in Minetest 0.5 and higher, for 0.4.16 any non-air node will block all damage.\n\t\n## API\n\n### Registering a damage type\n\nCall:\n\n```\n\tradiant_damage.register_radiant_damage(damage_name, damage_def)\n```\n\nwhere damage_name is a string used to identify this damage type and damage_def is a table such as:\n\n```\n{\n\tinterval = 1, -- number of seconds between each damage check. Defaults to 1 when undefined.\n\trange = 3, -- range of the damage. Can be omitted if inverse_square_falloff is true,\n\t\t-- in that case it defaults to the range at which 0.125 points of damage is done\n\t\t-- by the most damaging emitter node type.\n\temitted_by = {}, -- nodes that emit this damage. At least one emission node type\n\t\t-- and damage value pair is required.\n\tattenuated_by = {} -- This allows certain intervening node types to modify the damage\n\t\t-- that radiates through it. This parameter is optional.\n\t\t-- Note: Only works in Minetest version 0.5 and above.\n\tdefault_attenuation = 1, -- the amount the damage is multiplied by when passing \n\t\t-- through any other non-air nodes. Defaults to 0 when undefined. Note that\n\t\t-- in versions before Minetest 0.5 any value other than 1 will result in total\n\t\t-- occlusion (ie, any non-air node will block all damage)\n\tinverse_square_falloff = true, -- if true, damage falls off with the inverse square\n\t\t-- of the distance. If false, damage is constant within the range. Defaults to\n\t\t-- true when undefined.\n\tabove_only = false, -- if true, damage only propagates directly upward. Useful for\n\t\t-- when you want to damage players only when they stand on the node.\n\t\t-- Defaults to false when undefined.\n\ton_damage = function(player_object, damage_value), -- An optional callback to allow mods\n\t\t-- to do custom behaviour. If this is set to non-nil then the default damage will\n\t\t-- *not* be done to the player, it's up to the callback to handle that. If it's left\n\t\t-- undefined then damage_value is dealt to the player.\n}\n```\n\nemitted_by has the following format:\n```\n\t{[\"default:stone_with_mese\"] = 2, [\"default:mese\"] = 9}\n```\nwhere the value associated with each entry is the amount of damage dealt. Groups are permitted. Note that negative damage represents \"healing\" radiation.\n\nattenuated_by has the following similar format:\n\n```\n\t{[\"group:stone\"] = 0.25, [\"default:steelblock\"] = 0}\n```\n\nwhere the value is a multiplier that is applied to the damage passing through it. Groups are permitted. Note that you can use values greater than one to make a node type magnify damage instead of attenuating it.\n\n### Updating/overriding a registered damage type\n\nTo modify or add new parameters to an existing already-registered damage type use the following function:\n\n```\n\tradiant_damage.override_radiant_damage(damage_name, damage_def)\n```\n\nWhere damage_def is a table as above but which only includes the new information. For example, a mod could add a new type of mese radiation emitter with the following:\n\n```\n\tradiant_damage.override_radiant_damage(\"mese\", {\n\t\temitted_by = {\n\t\t\t[\"dfcaverns:glow_mese\"] = radiant_damage.config.mese_damage * 12,\n\t\t},\n\t})\n```\n\nTo remove an emission source set its emitted damage to 0.\n\nTo remove an attenuation node type, set its attenuation factor to equal the default attenuation factor.\n\nIf you wish to \"disable\" a registered damage type, use this override function to set its range to 1 and its interval to an enormous value (millions of seconds) to neutralize the damage type's global callback most efficiently.\n\n## Further reading\n\nThese wiki pages may be of interest regarding the principles behind some of this mods' functions:\n\n* [Inverse-square law](https://en.wikipedia.org/wiki/Inverse-square_law)\n* [Half-value layer](https://en.wikipedia.org/wiki/Half-value_layer)",
  "maintainers": [
    "FaceDeer"
  ],
  "media_license": "MIT",
  "name": "radiant_damage",
  "provides": [
    "radiant_damage"
  ],
  "release": 2911,
  "repo": "https://github.com/FaceDeer/radiant_damage",
  "score": 10,
  "screenshots": [
    "https://content.luanti.org/uploads/g959Cfbjan.png"
  ],
  "short_description": "A mod that allows nodes to damage players at a distance",
  "state": "APPROVED",
  "tags": [
    "environment",
    "survival"
  ],
  "thumbnail": "https://content.luanti.org/thumbnails/1/g959Cfbjan.png",
  "title": "Radiant Damage",
  "translation_url": null,
  "type": "mod",
  "url": "https://content.luanti.org/packages/FaceDeer/radiant_damage/releases/2911/download/",
  "video_thumbnail_url": null,
  "video_url": null,
  "website": null,
  "dependencies": {
    "FaceDeer/radiant_damage": []
  },
  "hash": "09aigdks4a6z1raa0aw4x3ykixkvm29c3w4ld7pshh9k8xflfx9w"
}
