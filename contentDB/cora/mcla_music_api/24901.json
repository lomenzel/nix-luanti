{
  "author": "cora",
  "content_warnings": [],
  "created_at": "2024-03-21T00:57:09.124789",
  "dev_state": "ACTIVELY_DEVELOPED",
  "donate_url": null,
  "downloads": 1028,
  "forum_url": null,
  "forums": null,
  "game_support": [],
  "issue_tracker": "https://codeberg.org/mineclonia/mcla_music_api",
  "license": "GPL-3.0-or-later",
  "long_description": "# mcla_music_api\n\nA music API to register a soundtrack for your game. Fully compatible with registrations for the old \"music_api\" mod as seen in \"music modpack\".\n\nDespite the name does not actually depend on mineclonia even though it will display a nice track selection menu in the mineclonia survival inventory (also with sfinv).\n\n## Chatcommands\n* /music next - play the next queueable so\n* /music list - list all available tracks\n* /music play tracknumber - play track from list\n* /music 0-100 - set volume\n\n## API\n`mcla_music_api.register_on_play(function(player, song_definition) end)` - to register a function that will be executed when a song starts\n`mcla_music_api.register_on_playback_complete(function(player, song_definition) end)` - to register a function that will be executed when a songs playback is complete.\n\n`mcla_music_api.register_song(song_definition)`\n### Song definition\nThese are 100% compatible with registration definitions for music_api. It even supports the music.register_track command which can be used interchangably.\n\nmcla_music_api comes with a \"generate_registrations.sh\" script to attempt to automatically generate registrations from *.ogg files in a directory using vorbiscomment and ffmpeg, this is particularly helpful to determine the length of the songs.\n\nHowever it supports a number of new fields not previously known to music_api:\n```lua\n{\n\tname = \"soundfile\",\n\t--\"soundname\" according to minetest i.e. the filename without the .ogg extension\n\n\ttitle = \"Fancy Title\",\n\t-- Optional: Display title, if not found `name` will be used\n\n\tlength = 210,\n\t-- The length of the song in seconds, this is absolutely required since minetest has no way of telling when a sound playback is complete.\n\n\tday = true,\n\t-- Optional: if false song will not be played during daytime\n\n\tnight = true,\n\t-- Optional: if false song will not be played during nighttime\n\n\tymin = -32000,\n\t-- Optional: minimum y position for the song to be automatically queued\n\n\tymax = 32000,\n\t-- Optional: maximum y position for the song to be automatically queued\n\n\tbiomes = { \"ColdTaiga\" },\n\t-- Optional: List of biome names the song can be automatically queued in\n\n\thidden = false,\n\t-- Optional: If true the song will not be shown in the tracklist\n\n\tcheck_player = function(player) end,\n\t-- Optional: if this function returns false the song will not be queued automatically\n}\n```\n",
  "maintainers": ["cora"],
  "media_license": "GPL-3.0-or-later",
  "name": "mcla_music_api",
  "provides": ["mcla_music_api"],
  "release": 24901,
  "repo": "https://codeberg.org/mineclonia/mcla_music_api.git",
  "score": 28.6,
  "screenshots": [
    "https://content.luanti.org/uploads/748a7f6b90.png",
    "https://content.luanti.org/uploads/165c99957d.png"
  ],
  "short_description": "Music API, made for mineclonia but compatible with all games",
  "state": "APPROVED",
  "tags": ["sound_music"],
  "thumbnail": "https://content.luanti.org/thumbnails/1/748a7f6b90.png",
  "title": "Mineclonia Music Api",
  "translation_url": null,
  "type": "mod",
  "url": "https://content.luanti.org/packages/cora/mcla_music_api/releases/24901/download/",
  "video_thumbnail_url": null,
  "video_url": null,
  "website": null,
  "dependencies": {
    "cora/mcla_music_api": []
  },
  "hash": "160g1f6wrm7cdb6rrwc4fab1rhsik2czy21qrlzizf2rdi2ih29b"
}
