{
  "author": "rheo",
  "content_warnings": [],
  "created_at": "2022-09-05T23:10:09.137122",
  "dev_state": "ACTIVELY_DEVELOPED",
  "donate_url": "https://github.com/sponsors/fluxionary/",
  "downloads": 324,
  "forum_url": null,
  "forums": null,
  "game_support": [],
  "issue_tracker": "https://github.com/fluxionary/minetest-verbana/issues",
  "license": "LGPL-3.0-or-later",
  "long_description": "note: CURRENTLY NO IPv6 SUPPORT.\n\nVerbana: Verification and banning mod for Minetest\n==================================================\n\nCopyright flux 2021 LGPLv3\n\nName\n----\nA portmanteau of \"verification\", \"ban\", and the herb verbena.\n\nTerminology\n-----------\n\nThe terms `network` and `ASN` are used interchangeably in this document. \n\nThe terms `player` and `account` are also used interchangeably in most contexts;\nsometimes `player` will refer to a physical person, however.\n\nMotivation\n----------\n\nThis mod is a response to sban, an IP-aware banning mod derived from xban,\nand BillyS's verification mod for Blocky Survival. Both of these mods have\nproblems that I've long wanted to resolve, and it seemed the best resolution\nto those problems was to create a new integrating the features of both.\n\nSban is a good first attempt at IP-aware bans, but it has several major flaws:\n1. Multiple users may be associated with an IP, and banning one often bans\n   them all.\n2. Banned IPs can still \"hack\" into existing accounts of other players by\n   brute-forcing weak passwords.\n3. For many trolls, getting access to a new IP is far too easy, and there is no\n   effective way to keep them off the server.\n\nBillyS's verification mod was created to deal with one particular troll on\nthe BlockySurvival server, who repeatedly got around sban by getting new IPs\nfrom VPNs and his regular mobile service provider. When enabled, it requires \nall new players to be verified by a player with moderator privileges before \nthey can interact with the server or communicate with non-moderator players.\n\nThe flaws in the verification mod are\n1. Verification is all-or-nothing; either all new players require verification,\n   or none of them do.\n2. Moderators are not always online to verify new players.\n3. New players come from all over the world, and may not be able to communicate\n   with the moderator.\n4. New players are of all ages, and may not be able to communicate in chat at\n   all.\n\nVerbana aims to provide name-based banning, as well as ip and network based\nblocking and verification.\n1. IPs and Networks may be marked as \"untrusted\" - all new players from\n   untrusted IPs/networks must go through verification, while other new\n   players may join at will.\n2. A \"verification jail\" can optionally be specified, which prevents unverified\n   players from getting loose on the server.  \n3. IPs and Networks may be blocked or temporarily blocked, should the need\n   arise.\n\nSome features of sban that the first release of Verbana will likely lack:\n* A GUI. The sban GUI does not work particularly well anyway, and I don't know \n  formspec. Use commands.\n* Import/export from various other ban formats. I plan to import data from sban, \n  but I don't have a use case for the rest. However, if someone wants to write\n  a module to import from e.g. xban2, be my guest.\n\nRequirements\n============\n\n* Minetest 5.0 or later.\n* Verbana must be listed as a trusted mod in minetest.conf (`secure.trusted_mods`), \n  in order to use a sqlite database.\n* lsqlite3 (SQLite3 for Lua) must be installed and accessible to Minetest's Lua.\n * The easiest way I know how to do this: install luarocks, and execute \n   `luarocks --lua-version 5.1 install lsqlite3` or the appropriate variation. \n* The Minetest server must use IPv4 exclusively. I've made zero attempt to support \n  IPv6. \n* There's some soft dependencies on linux. Windows users may need to make some changes,\n  which I would gladly accept as a PR.\n\nOptional Dependencies\n---------------------\n\nVerbana can make use of the stock IRC mod, as well as the \"IRC2\" mod that is used on\nthe Blocky Survival server to connect to a second IRC server. \n\nSban and verification are also listed as optional dependencies, but this is primarily\nin order for verbana to detect their presence. By default, verbana will run in \n\"debug mode\" if these mods are detected. If you wish to use verbana as intended, you do\n\\*not\\* want these mods installed.\n\nInstallation\n============\n\nIf you don't know the basics of installing a minetest mod, please see\n* https://wiki.minetest.net/Installing_Mods\n* https://dev.minetest.net/Installing_Mods\n\nTrust the mod\n-------------\n\nVerbana must be marked as a trusted mod, with a line like the following added to\nminetest.conf:\n```\nsecure.trusted_mods = verbana\n``` \n\nThe only \"trusted\" thing verbana does is load lsqlite so that it can interact with\nits database. To our knowledge, verbana cannot leak the insecure environment, but \nit can leak the lsqlite interface in minetest 5.0.1 and development versions before\ncommit ecd20de. \n\nDownload ASN tables\n-------------------\n\nOnce you have put the verbana mod in the correct place, you will need to download the\nASN tables that verbana uses to correlate IP numbers with networks. On Linux\nsystems, you should just be able to run the script `update_tables.sh`. On other systems,\nyou will need to find another way to download those files, and convert the \ndata-used-autnums file from ths ISO-8859-1 encoding to utf8. \n\nThe ASN tables update regularly, though for the most part nothing major changes.\nYou should put a process in place that updates these automatically (or manually)\nsome period between daily and monthly. \n\nConfiguration\n-------------\n\nThe following configuration options are available, and can be set in your `minetest.conf`\nfile.\n\n* `verbana.db_path` \n  \n  The location verbana will store its database. Defaults to `${WORLD_ROOT}/verbana.sqlite`.\n   \n* `verbana.asn_description_path`\n\n  The location of the ASN description file. Defaults to `${MOD_ROOT}/data-used-autnums`\n\n* `verbana.asn_data_path`\n\n  The location of the ASN data file. Defaults to `${MOD_ROOT}/data-raw-table`\n\n* `verbana.admin_priv`\n\n  The privilege needed to administer verbana. Defaults to `ban_admin`. This privilege will\n  be created if it does not currently exist.\n\n* `verbana.moderator_priv`\n\n  The privilege needed to use verbana for moderation. Defaults to `ban`. \n  This privilege will be created if it does not currently exist.\n\n* `verbana.kick_priv`\n\n  The privilege needed to kick users. By default, the moderator privilege will be used. If\n  you want a separate privilege just for kicking, you can set this value. Usually you'll want\n  to give it the value \"kick\".\n\n* `verbana.unverified_privs`\n\n  The privileges granted to users with the \"unverified\" status. Defaults to `shout`. \n  If there are multiple privileges, they should be comma-delimited.\n\n* `default_privs`\n\n  This is a core setting, not a verbana-specific one. Verbana uses it to determine what\n  privileges to give to players once they are verified. Defaults to `shout,interact`.\n  If there are multiple privileges, they should be comma-delimited.\n\n* `verbana.whitelisted_privs`\n\n  A list of privileges that are equivalent to the `whitelisted` status. If a player has\n  all of the listed privileges, they skip the suspicious network checks on login. By\n  default, it is blank i.e. disabled.  \n\n* `static_spawnpoint`\n\n  This is a core setting, not a verbana-specific one. Verbana uses this to determine\n  where a normal (verified) player will spawn, and where to move players that are\n  newly verified. It is a list of coordinates `(x,y,z)`, and defaults to  `(0,0,0)`.\n\n* `verbana.unverified_spawn_pos`\n\n  Coordinates where unverified players will spawn. It is a list of coordinates\n  `(x,y,z)` and defaults to the value of `static_spawnpoint`.\n\n* `verbana.jail_bounds`\n\n  Boundaries for the verification \"jail\" area, if one exists. It needs to be specified\n  as a pair of coordinates, (x1,y1,z1),(x2,y2,z2), that specify the 3d bounding box\n  of the jail. If a jail is defined, `verbana.unverified_spawn_pos` should be\n  *inside* of the jail, or unexpected behavior may result. \n\n* `verbana.jail_check_period`\n\n  A period, specified in seconds, between checks of whether an unverified player has\n  escaped the verification jail. It defaults to 0, which disables the jail.\n  \n  Both `verbana.jail_bounds` and `verbana.jail_check_period` must be defined in\n  order for the verification jail to be enabled.\n\n* `verbana.universal_verification`\n\n  If set to `true`, all new users must be verified. Otherwise, only players from suspicious \n  networks need be verified. Defaults to `false`\n\n* `verbana.debug_mode`\n\n  Whether to run verbana in debug mode. By default, verbana will run in debug mode if \n  the sban or verification mod are installed and enabled. Setting this will override\n  that behavior, if that is desired.\n  \n  In debug mode, verbana will (1) reload the schema on every server startup\n  (2) automatically import data from sban, if its DB is found (3) not make any changes\n  to player privileges (4) not block any users from connecting to the server (5) not \n  kick any users from the server. \n\nFunctionality\n=============\n\ntoo much to list here, see README.md\n\nCommands\n========\n\ntoo many to list here, see README.md",
  "maintainers": ["rheo"],
  "media_license": "CC-BY-SA-4.0",
  "name": "verbana",
  "provides": ["verbana"],
  "release": 13727,
  "repo": "https://github.com/fluxionary/minetest-verbana",
  "score": 0.9,
  "screenshots": ["https://content.luanti.org/uploads/94686b7241.png"],
  "short_description": "verification and banning",
  "state": "APPROVED",
  "tags": [
    "chat",
    "complex_installation",
    "library",
    "multiplayer",
    "server_tools"
  ],
  "thumbnail": "https://content.luanti.org/thumbnails/1/94686b7241.png",
  "title": "verbana",
  "translation_url": null,
  "type": "mod",
  "url": "https://content.luanti.org/packages/rheo/verbana/releases/13727/download/",
  "video_thumbnail_url": null,
  "video_url": null,
  "website": null,
  "dependencies": { "rheo/verbana": [] },
  "hash": "0wbm6pq94cbh4f80v3h5xw5hp5055pk7sf4higkwaw7gh04360sw"
}
